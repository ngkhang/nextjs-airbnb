# Get changed files
CHANGED_FILES=$(git diff --name-only HEAD^)

# Check if there are JS/TS files changed
if echo "$CHANGED_FILES" | grep -q -E '\.(js|jsx|ts|tsx)$'; then
  echo "üîç JS/TS files changed. Running lint..."
  echo "$CHANGED_FILES" | grep -E '\.(js|jsx|ts|tsx)$' | xargs npx next lint --file || {
      echo "‚ùå Lint failed. Please fix the errors before pushing."
      exit 1
  }
  echo "‚úÖ Lint passed!"
else
  echo "‚è© No JS/TS files changed. Skipping lint."
fi
